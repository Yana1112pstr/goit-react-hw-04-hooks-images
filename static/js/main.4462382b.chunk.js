(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__-fVtj",imageGalleryItem:"ImageGallery_imageGalleryItem__H_W3R"}},14:function(e,t,a){e.exports={overlay:"Modal_overlay__2c3_f",modal:"Modal_modal__OOQ-A"}},15:function(e,t,a){e.exports={image:"ImageGalleryItem_image__3IqzK"}},17:function(e,t,a){e.exports={button:"Button_button__joiQo"}},23:function(e,t,a){},25:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),o=a.n(c),i=(a(23),a(5)),s=a.n(i),u=a(9),l=a(11),m=a(3),b=(a(25),a(7)),j=(a(26),a(8)),h=a.n(j),f=a(18),g=a(1);var p=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(m.a)(a,2),c=r[0],o=r[1];return Object(g.jsx)("header",{className:h.a.SearchBar,children:Object(g.jsxs)("form",{className:h.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):b.b.error("enter your request!")},children:[Object(g.jsx)("button",{type:"submit",className:h.a.SearchFormButton,children:Object(g.jsx)(f.a,{})}),Object(g.jsx)("input",{className:h.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"searchQuery",onChange:function(e){var t=e.currentTarget.value;o(t.toLowerCase())},value:c})]})})},d=a(13),O=a.n(d),v=a(15),_=a.n(v),x=function(e){var t=e.src,a=e.alt,n=e.onClick,r=e.largeImage;return Object(g.jsx)("img",{className:_.a.image,src:t,alt:a,onClick:function(){return n(r)}})},S=function(e){var t=e.images,a=e.onClick,n=O.a.imageGallery,r=O.a.imageGalleryItem;return Object(g.jsx)("ul",{className:n,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.tags,o=e.largeImageURL;return Object(g.jsx)("li",{className:r,children:Object(g.jsx)(x,{src:n,alt:c,largeImage:o,onClick:a})},t)}))})},y=function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("https://pixabay.com/api/?","q=").concat(t,"&page=").concat(a,"&key=").concat("23625059-9296b74aaab4f5d239dc56ee8","&image_type=photo&orientation=horizontal&per_page=12"),e.next=3,fetch(n);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=y,w=a(16),F=a.n(w),I=function(){return Object(g.jsx)(F.a,{type:"BallTriangle",color:"#00BFFF",height:80,width:80})},C=a(14),B=a.n(C),N=document.getElementById("modal-root"),G=function(e){var t=e.largeImage,a=e.onClick;Object(n.useEffect)((function(){var e=function(e){return"Escape"===e.code&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}));var r=B.a.overlay,o=B.a.modal;return Object(c.createPortal)(Object(g.jsx)("div",{onClick:function(e){return e.currentTarget===e.target&&a()},className:r,children:Object(g.jsx)("div",{className:o,children:Object(g.jsx)("img",{src:t,alt:""})})}),N)},E=a(17),L=a.n(E),T=function(e){var t=e.onClick,a=L.a.button;return Object(g.jsx)("button",{className:a,type:"button",onClick:t,children:"Load more"})};var R=function(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),i=o[0],j=o[1],h=Object(n.useState)(1),f=Object(m.a)(h,2),d=f[0],O=f[1],v=Object(n.useState)("idle"),_=Object(m.a)(v,2),x=_[0],y=_[1],w=Object(n.useState)(!1),F=Object(m.a)(w,2),C=F[0],B=F[1],N=Object(n.useState)(null),E=Object(m.a)(N,2),L=E[0],R=E[1],q=Object(n.useRef)(!0);Object(n.useEffect)((function(){if(q.current)q.current=!1;else{y("pending");var e=function(){var e=Object(l.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(i,t);case 3:if(a=e.sent,0!==(n=a.hits).length){e.next=7;break}throw new Error("not images");case 7:if(!(n.length<12)){e.next=10;break}throw r((function(e){return[].concat(Object(u.a)(e),Object(u.a)(n))})),new Error("not more images");case 10:y("resolved"),r((function(e){return[].concat(Object(u.a)(e),Object(u.a)(n))})),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),b.b.error(e.t0.message),y("idle");case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();e(d)}}),[d,i]);var A=function(e){R(e),B((function(e){return!e}))};return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(p,{onSubmit:function(e){j(e)}}),"pending"===x&&Object(g.jsx)(I,{}),Object(g.jsx)(S,{images:a,onClick:A}),"resolved"===x&&Object(g.jsx)(T,{onClick:function(){y("pending"),O((function(e){return e+1}))}}),C&&Object(g.jsx)(G,{largeImage:L,onClick:A}),Object(g.jsx)(b.a,{autoClose:3e3})]})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,49)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root")),q()},8:function(e,t,a){e.exports={SearchBar:"Searchbar_SearchBar__3p8jj",SearchForm:"Searchbar_SearchForm__3Hpx5",SearchFormButton:"Searchbar_SearchFormButton__3ejon",SearchFormSvg:"Searchbar_SearchFormSvg__3n--s",SearchFormInput:"Searchbar_SearchFormInput__2SV6s","SearchForm-input":"Searchbar_SearchForm-input__2ABG7"}}},[[48,1,2]]]);
//# sourceMappingURL=main.4462382b.chunk.js.map
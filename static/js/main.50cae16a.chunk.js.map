{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/api.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","className","s","SearchForm","e","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","value","currentTarget","toLowerCase","ImageGalleryItem","src","alt","onClick","largeImage","image","propTypes","PropTypes","func","isRequired","images","arrayOf","shape","id","number","webformatURL","string","tags","largeImageURL","ImageGallery","imageGallery","imageGalleryItem","map","fetchAPI","query","page","a","url","fetch","response","json","LoaderBall","color","height","width","modalRoot","document","getElementById","Modal","useEffect","handleKeyDown","code","window","addEventListener","removeEventListener","overlay","modal","createPortal","target","Button","button","App","state","status","showModal","onLoadMore","setState","onFetchImg","pageQuery","hits","length","Error","prevState","message","handleChangeQuery","toggleModal","prevProps","this","Loader","autoClose","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.50cae16a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__-fVtj\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__H_W3R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2c3_f\",\"modal\":\"Modal_modal__OOQ-A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__3IqzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__joiQo\"};","import React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nimport { ImSearch } from \"react-icons/im\";\nimport { toast } from \"react-toastify\";\n\nfunction SearchBar({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChangeInput = (e) => {\n    const { value } = e.currentTarget;\n    setSearchQuery(value.toLowerCase());\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim() === \"\") {\n      toast.error(\"enter your request!\");\n      return;\n    }\n    onSubmit(searchQuery);\n    setSearchQuery(\"\");\n  };\n\n  return (\n    <header className={s.SearchBar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <ImSearch />\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"searchQuery\"\n          onChange={handleChangeInput}\n          value={searchQuery}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchBar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ src, alt, onClick, largeImage }) => {\n  return (\n    <img\n      className={s.image}\n      src={src}\n      alt={alt}\n      onClick={() => onClick(largeImage)}\n    />\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onClick }) => {\n  const { imageGallery, imageGalleryItem } = s;\n  return (\n    <ul className={imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <li key={id} className={imageGalleryItem}>\n          <ImageGalleryItem\n            src={webformatURL}\n            alt={tags}\n            largeImage={largeImageURL}\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ImageGallery;\n","const BASE_URL = \"https://pixabay.com/api/?\";\n\nconst API_KEY = \"23625059-9296b74aaab4f5d239dc56ee8\";\n\nconst fetchAPI = async (query, page) => {\n  const url = `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  const response = await fetch(url);\n  return await response.json();\n};\n\nexport default fetchAPI;\n\n///// how to work fetch:\n// function fetchImg(query, page) {\n//   return fetch(\n//     `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n//   ).then((response) => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n//     return Promise.reject(new Error(`not found`));\n//   });\n// }\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst LoaderBall = () => {\n  return <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />;\n};\n\nexport default LoaderBall;\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nconst Modal = ({ largeImage, onClick }) => {\n  useEffect(() => {\n    const handleKeyDown = (e) => e.code === \"Escape\" && onClick();\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleBackdropClick = (e) => e.currentTarget === e.target && onClick();\n\n  const { overlay, modal } = s;\n  return createPortal(\n    <div onClick={handleBackdropClick} className={overlay}>\n      <div className={modal}>\n        <img src={largeImage} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  largeImage: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from \"react\";\nimport s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  const { button } = s;\n  return (\n    <button className={button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport fetchAPI from \"./services/api\";\nimport LoaderBall from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    page: 1,\n    status: \"idle\",\n    showModal: false,\n    largeImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n\n    if (searchQuery !== prevState.searchQuery) {\n      this.setState({ images: [], status: \"pending\" });\n\n      this.onFetchImg(1);\n    }\n  }\n\n  onLoadMore = async () => {\n    const { page } = this.state;\n    this.setState({ status: \"pending\" });\n\n    this.onFetchImg(page);\n  };\n\n  onFetchImg = async (pageQuery) => {\n    const { searchQuery } = this.state;\n    try {\n      const { hits } = await fetchAPI(searchQuery, pageQuery);\n      if (hits.length === 0) {\n        throw new Error(`not images`);\n      }\n      if (hits.length < 12) {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n        }));\n        throw new Error(`not more images`);\n      }\n      this.setState((prevState) => ({\n        status: \"resolved\",\n        images: [...prevState.images, ...hits],\n        page: pageQuery + 1,\n      }));\n    } catch (error) {\n      toast.error(error.message);\n      this.setState({ error, status: \"idle\" });\n    }\n  };\n\n  handleChangeQuery = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  toggleModal = (largeImage) => {\n    this.setState((prevState) => ({\n      largeImage,\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { handleChangeQuery, toggleModal, onLoadMore } = this;\n    const { status, images, showModal, largeImage } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={handleChangeQuery} />\n        {status === \"pending\" && <LoaderBall />}\n        <ImageGallery images={images} onClick={toggleModal} />\n        {status === \"resolved\" && <Button onClick={onLoadMore} />}\n        {showModal && <Modal largeImage={largeImage} onClick={toggleModal} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"Searchbar_SearchBar__3p8jj\",\"SearchForm\":\"Searchbar_SearchForm__3Hpx5\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3ejon\",\"SearchFormSvg\":\"Searchbar_SearchFormSvg__3n--s\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2SV6s\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2ABG7\"};"],"sourceRoot":""}
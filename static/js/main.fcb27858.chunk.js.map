{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","services/api.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","SearchBar","state","searchQuery","handleChangeInput","e","value","currentTarget","setState","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","error","this","className","s","SearchForm","type","SearchFormButton","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","src","alt","onClick","largeImage","image","propTypes","PropTypes","func","isRequired","images","arrayOf","shape","id","number","webformatURL","string","tags","largeImageURL","ImageGallery","imageGallery","imageGalleryItem","map","fetchAPI","query","page","a","url","fetch","response","json","LoaderBall","color","height","width","modalRoot","document","getElementById","Modal","handleKeyDown","code","handleBackdropClick","target","window","addEventListener","removeEventListener","overlay","modal","createPortal","Button","button","App","status","showModal","onLoadMore","onFetchImg","pageQuery","hits","length","Error","prevState","message","handleChangeQuery","toggleModal","prevProps","Loader","autoClose","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.fcb27858.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"Searchbar_SearchBar__3p8jj\",\"SearchForm\":\"Searchbar_SearchForm__3Hpx5\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3ejon\",\"SearchFormSvg\":\"Searchbar_SearchFormSvg__3n--s\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2SV6s\",\"SearchForm-input\":\"Searchbar_SearchForm-input__2ABG7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__-fVtj\",\"imageGalleryItem\":\"ImageGallery_imageGalleryItem__H_W3R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2c3_f\",\"modal\":\"Modal_modal__OOQ-A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__3IqzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__joiQo\"};","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\nimport { ImSearch } from \"react-icons/im\";\nimport { toast } from \"react-toastify\";\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleChangeInput = (e) => {\n    const { value } = e.currentTarget;\n    this.setState({ searchQuery: value.toLowerCase() });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      toast.error(\"enter your request!\");\n      return;\n    }\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    const { handleChangeInput } = this;\n    return (\n      <header className={s.SearchBar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <ImSearch />\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"searchQuery\"\n            onChange={handleChangeInput}\n            value={searchQuery}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ src, alt, onClick, largeImage }) => {\n  return (\n    <img\n      className={s.image}\n      src={src}\n      alt={alt}\n      onClick={() => onClick(largeImage)}\n    />\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport s from \"./ImageGallery.module.css\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ images, onClick }) => {\n  const { imageGallery, imageGalleryItem } = s;\n  return (\n    <ul className={imageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <li key={id} className={imageGalleryItem}>\n          <ImageGalleryItem\n            src={webformatURL}\n            alt={tags}\n            largeImage={largeImageURL}\n            onClick={onClick}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default ImageGallery;\n","const BASE_URL = \"https://pixabay.com/api/?\";\n\nconst API_KEY = \"23625059-9296b74aaab4f5d239dc56ee8\";\n\nconst fetchAPI = async (query, page) => {\n  const url = `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n  const response = await fetch(url);\n  return await response.json();\n};\n\nexport default fetchAPI;\n\n///// how to work fetch:\n// function fetchImg(query, page) {\n//   return fetch(\n//     `${BASE_URL}q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n//   ).then((response) => {\n//     if (response.ok) {\n//       return response.json();\n//     }\n//     return Promise.reject(new Error(`not found`));\n//   });\n// }\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst LoaderBall = () => {\n  return <Loader type=\"BallTriangle\" color=\"#00BFFF\" height={80} width={80} />;\n};\n\nexport default LoaderBall;\n","import React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nclass Modal extends Component {\n  static propTypes = {\n    largeImage: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => e.code === \"Escape\" && this.props.onClick();\n\n  handleBackdropClick = (e) =>\n    e.currentTarget === e.target && this.props.onClick();\n\n  render() {\n    const { overlay, modal } = s;\n    const { largeImage } = this.props;\n    return createPortal(\n      <div onClick={this.handleBackdropClick} className={overlay}>\n        <div className={modal}>\n          <img src={largeImage} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React from \"react\";\nimport s from \"./Button.module.css\";\nimport PropTypes from \"prop-types\";\n\nconst Button = ({ onClick }) => {\n  const { button } = s;\n  return (\n    <button className={button} type=\"button\" onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport SearchBar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport fetchAPI from \"./services/api\";\nimport LoaderBall from \"./components/Loader/Loader\";\nimport Modal from \"./components/Modal/Modal\";\nimport Button from \"./components/Button/Button\";\n\nclass App extends Component {\n  state = {\n    images: [],\n    searchQuery: \"\",\n    page: 1,\n    status: \"idle\",\n    showModal: false,\n    largeImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery } = this.state;\n\n    if (searchQuery !== prevState.searchQuery) {\n      this.setState({ images: [], status: \"pending\" });\n\n      this.onFetchImg(1);\n    }\n  }\n\n  onLoadMore = async () => {\n    const { page } = this.state;\n    this.setState({ status: \"pending\" });\n\n    this.onFetchImg(page);\n  };\n\n  onFetchImg = async (pageQuery) => {\n    const { searchQuery } = this.state;\n    try {\n      const { hits } = await fetchAPI(searchQuery, pageQuery);\n      if (hits.length === 0) {\n        throw new Error(`not images`);\n      }\n      if (hits.length < 12) {\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...hits],\n        }));\n        throw new Error(`not more images`);\n      }\n      this.setState((prevState) => ({\n        status: \"resolved\",\n        images: [...prevState.images, ...hits],\n        page: pageQuery + 1,\n      }));\n    } catch (error) {\n      toast.error(error.message);\n      this.setState({ error, status: \"idle\" });\n    }\n  };\n\n  handleChangeQuery = (searchQuery) => {\n    this.setState({ searchQuery });\n  };\n\n  toggleModal = (largeImage) => {\n    this.setState((prevState) => ({\n      largeImage,\n      showModal: !prevState.showModal,\n    }));\n  };\n\n  render() {\n    const { handleChangeQuery, toggleModal, onLoadMore } = this;\n    const { status, images, showModal, largeImage } = this.state;\n\n    return (\n      <div className=\"App\">\n        <SearchBar onSubmit={handleChangeQuery} />\n        {status === \"pending\" && <LoaderBall />}\n        <ImageGallery images={images} onClick={toggleModal} />\n        {status === \"resolved\" && <Button onClick={onLoadMore} />}\n        {showModal && <Modal largeImage={largeImage} onClick={toggleModal} />}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}